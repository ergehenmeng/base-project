## 业务说明

### 商户相关
* 商户创建或编辑时,可以选择商户可以经营的品类, 例如: 门票, 民宿等. 具体品类在 `ProductType` 定义中定义
* 商户所能经营的品类和角色有关联关系, 具体在 `RoleMapping` 中映射
* 商户创建时,默认会创建商户管理员用户, 该用户具有商户管理权限, 同时平台有权对其的账户进行管理. 锁定, 解锁, 重置密码, 调整费率, 导出, 解绑(用于绑定微信号进行通知或提现等操作)
* 商户同样可以自己进行绑定微信号(移动端)或更换微信号, 用于通知或提现等操作
* 商户可以创建自己的用户或角色, 用来管理自己的店铺等

### 积分相关

* 积分是平台账户的虚拟币, 用于抵扣商品价格, 同时商户自己也可以通过抽奖等给用户发放积分, 也可以通过订单支付收取积分(用户支付的积分)
* 商户积分可以充值, 同样可以提现, 注意:积分相关资金走向,目前不走商户资金流水, 走微信支付或者支付宝充值方式(未实现)

### 营销活动相关

#### 优惠券
* 优惠券可以是满减券或折扣券
* 优惠券所使用的范围: 支持除零售(待开发)之外的所有品类
* 优惠券可以手动发放给指定的人员, 也可以通过通过领券中心让用户自己领取
* 目前只支持商户优惠券, 不支持平台优惠券, 且使用范围为: 店铺(零售店铺)或指定商品(所有商品)
* 零售商品详情页会展示可以领取的优惠券

#### 拼团
* 拼团只能是单个商品(零售), 不支持阶梯价格优惠的拼团设置
* 在拼团有效期结束时,所有没有拼团成功的订单会自动取消
* 未成团之前,如果团长取消订单, 所有参团的订单都会自动取消
* 成团后订单取消, 不会取消其他人的订单(团长也一样)

#### 限时购
* 限时购支持多个商品(零售)

#### cdKey
* 兑换码配置生成后, 需要手动生成cdKey, 且只能生成一次. 通过导出cdKey让运营人员使用
* 兑换码支持民宿, 餐饮券, 线路, 场馆四类商品
* 退款时兑换码不会自动退回
* cdKey属于平台优惠, 因此其使用范围需要线下跟对应商户或门店进行沟通,方便结算
* 默认情况下, 兑换码只能在指定的门店使用, 如需在指定商品使用, 可以设置系统参数 `redeem_code_scope`;

### 其他说明
* 支持零元购的品类: 门票, 场馆
* 支持兑换码的品类: 民宿, 线路, 餐饮券, 场馆
* 支持优惠券的品类: 全部