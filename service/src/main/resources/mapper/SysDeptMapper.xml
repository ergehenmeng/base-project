<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.eghm.mapper.SysDeptMapper">

    <select id="getMaxCodeChild" resultType="string">
        select `code` from sys_dept where deleted = false and parent_code = #{code} order by `code` desc limit 1
    </select>

    <select id="getList" resultType="com.eghm.vo.sys.ext.SysDeptResponse">
        select id, `code`, `parent_code`, `title`, `remark`, `create_time`, `update_time` from sys_dept where deleted = false
        <if test="queryName != null and queryName != ''">
            and (title like concat('%', #{queryName, typeHandler=LikeTypeHandler}, '%') )
        </if>
    </select>

</mapper>